# 保留 Unity 和 Google Mobile Ads
-keep class com.google.unity.** { *; }
-keep public class com.google.android.gms.ads.** { public *; }
-keep public class com.google.ads.** { public *; }
-keep class com.google.android.gms.internal.ads.** { *; }

# 保留 Google Play Games 核心类
-keep class com.google.android.gms.games.** { *; }
-keep class com.google.android.gms.common.** { *; }
-keep class com.google.android.gms.auth.** { *; }
-keep class com.google.android.gms.tasks.** { *; }
-keep class com.google.android.gms.games.multiplayer.** { *; }
-keep class com.google.android.gms.games.leaderboard.** { *; }
-keep class com.google.android.gms.games.snapshot.** { *; }
-keep class com.google.android.gms.games.stats.** { *; }
-keep class com.google.android.gms.games.video.** { *; }
-keep class com.google.android.gms.common.api.** { *; }

# 保留所有带 @Keep 注解的类和成员
-keepclassmembers class * {
    @Keep <methods>;
    @Keep <fields>;
}

# 反射和注解
-keepattributes Signature,InnerClasses,Annotations

# 保留 Google Play Integrity API
-keep class com.google.android.play.integrity.** { *; }
-keep class com.google.android.gms.play.integrity.** { *; }

# 抑制警告
-dontwarn com.google.android.gms.**
-dontwarn sun.misc.Unsafe
